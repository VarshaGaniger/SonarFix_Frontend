{
    "sourceFile": "src/pages/Issues.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1772096040056,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1772096078015,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,458 @@\n+import React, { useState, useEffect, useMemo } from \"react\";\r\n+import { useNavigate } from \"react-router-dom\";\r\n+import \"./Issues.css\";\r\n+import {\r\n+  Box,\r\n+  Pagination,\r\n+  Checkbox,\r\n+  FormControlLabel,\r\n+  Breadcrumbs,\r\n+  Link,\r\n+  Typography,\r\n+  Chip\r\n+} from \"@mui/material\";\r\n+import { ChevronRight } from \"lucide-react\";\r\n+\r\n+const SEVERITIES = [\"BLOCKER\", \"CRITICAL\", \"MAJOR\", \"MINOR\"];\r\n+const QUALITIES = [\"Security\", \"Reliability\", \"Maintainability\"];\r\n+\r\n+const Issues = () => {\r\n+  const navigate = useNavigate();\r\n+\r\n+\r\n+const location = useLocation();\r\n+const projectKey = location.state?.projectKey;\r\n+\r\n+  const itemsPerPage = 10;\r\n+\r\n+  /* ================= STATE ================= */\r\n+\r\n+  const [data, setData] = useState(null);\r\n+  const [loading, setLoading] = useState(false);\r\n+\r\n+  const [selectedSeverities, setSelectedSeverities] = useState([]);\r\n+  const [selectedRules, setSelectedRules] = useState([]);\r\n+  const [selectedQualities, setSelectedQualities] = useState([]);\r\n+  const [autoFixOnly, setAutoFixOnly] = useState(false);\r\n+\r\n+  const [page, setPage] = useState(1);\r\n+\r\n+  const [ruleSearch, setRuleSearch] = useState(\"\");\r\n+  const [allRules, setAllRules] = useState([]);\r\n+\r\n+  const [stableSeverityCounts, setStableSeverityCounts] = useState({});\r\n+  const [stableQualityCounts, setStableQualityCounts] = useState({});\r\n+  const [stableRuleCounts, setStableRuleCounts] = useState({});\r\n+\r\n+  const [ruleOpen, setRuleOpen] = useState(true);\r\n+  const [autoFixOpen, setAutoFixOpen] = useState(true);\r\n+  const [severityOpen, setSeverityOpen] = useState(true);\r\n+  const [qualityOpen, setQualityOpen] = useState(true);\r\n+\r\n+  /* ================= PARAM BUILDER ================= */\r\n+\r\n+  const buildParams = ({\r\n+    severities = selectedSeverities,\r\n+    qualities = selectedQualities,\r\n+    rules = selectedRules\r\n+  }) => {\r\n+    const params = new URLSearchParams();\r\n+\r\n+    qualities.forEach(q =>\r\n+      params.append(\"softwareQualities\", q)\r\n+    );\r\n+\r\n+    severities.forEach(s =>\r\n+      params.append(\"severities\", s)\r\n+    );\r\n+\r\n+    rules.forEach(r =>\r\n+      params.append(\"rules\", r)\r\n+    );\r\n+\r\n+    if (autoFixOnly) {\r\n+      params.append(\"autoFixOnly\", true);\r\n+    }\r\n+\r\n+    params.append(\"page\", page);\r\n+    params.append(\"pageSize\", itemsPerPage);\r\n+\r\n+    return params.toString();\r\n+  };\r\n+\r\n+  /* ================= FETCH LOGIC ================= */\r\n+\r\n+  useEffect(() => {\r\n+    const fetchData = async () => {\r\n+      setLoading(true);\r\n+\r\n+      try {\r\n+        const baseUrl =\r\n+          `http://localhost:8080/api/scan/${projectKey}/issues`;\r\n+\r\n+        const [\r\n+          mainRes,\r\n+          severityRes,\r\n+          qualityRes,\r\n+          ruleRes\r\n+        ] = await Promise.all([\r\n+          fetch(`${baseUrl}?${buildParams({})}`),\r\n+\r\n+          fetch(\r\n+            `${baseUrl}?${buildParams({\r\n+              severities: []\r\n+            })}`\r\n+          ),\r\n+\r\n+          fetch(\r\n+            `${baseUrl}?${buildParams({\r\n+              qualities: []\r\n+            })}`\r\n+          ),\r\n+\r\n+          fetch(\r\n+            `${baseUrl}?${buildParams({\r\n+              rules: []\r\n+            })}`\r\n+          )\r\n+        ]);\r\n+\r\n+        if (\r\n+          !mainRes.ok ||\r\n+          !severityRes.ok ||\r\n+          !qualityRes.ok ||\r\n+          !ruleRes.ok\r\n+        ) {\r\n+          throw new Error(\"One or more API calls failed\");\r\n+        }\r\n+\r\n+        const mainData = await mainRes.json();\r\n+        const sevData = await severityRes.json();\r\n+        const qualData = await qualityRes.json();\r\n+        const ruleData = await ruleRes.json();\r\n+\r\n+        setData(mainData);\r\n+\r\n+        setStableSeverityCounts(\r\n+          sevData?.filterCounts?.severityCounts || {}\r\n+        );\r\n+\r\n+        setStableQualityCounts(\r\n+          qualData?.filterCounts?.qualityCounts || {}\r\n+        );\r\n+\r\n+        const safeRuleCounts =\r\n+          ruleData?.filterCounts?.ruleCounts || {};\r\n+\r\n+        setStableRuleCounts(safeRuleCounts);\r\n+        setAllRules(Object.keys(safeRuleCounts));\r\n+\r\n+      } catch (err) {\r\n+        console.error(\"Error fetching issues:\", err);\r\n+      } finally {\r\n+        setLoading(false);\r\n+      }\r\n+    };\r\n+\r\n+    fetchData();\r\n+  }, [\r\n+    selectedQualities,\r\n+    selectedSeverities,\r\n+    selectedRules,\r\n+    autoFixOnly,\r\n+    page\r\n+  ]);\r\n+\r\n+  /* ================= DERIVED ================= */\r\n+\r\n+  const visibleRules = allRules.filter(rule =>\r\n+    rule.toLowerCase().includes(ruleSearch.toLowerCase())\r\n+  );\r\n+\r\n+  const groupedIssues = useMemo(() => {\r\n+    if (!data?.content) return {};\r\n+    const grouped = {};\r\n+    data.content.forEach(group => {\r\n+      grouped[group.file] = group.issues;\r\n+    });\r\n+    return grouped;\r\n+  }, [data]);\r\n+\r\n+  const totalPages = data?.totalPages || 0;\r\n+\r\n+  /* ================= HANDLERS ================= */\r\n+\r\n+  const toggleSeverity = sev => {\r\n+    setPage(1);\r\n+    setSelectedSeverities(prev =>\r\n+      prev.includes(sev)\r\n+        ? prev.filter(s => s !== sev)\r\n+        : [...prev, sev]\r\n+    );\r\n+  };\r\n+\r\n+  const toggleRule = rule => {\r\n+    setPage(1);\r\n+    setSelectedRules(prev =>\r\n+      prev.includes(rule)\r\n+        ? prev.filter(r => r !== rule)\r\n+        : [...prev, rule]\r\n+    );\r\n+  };\r\n+\r\n+  const toggleQuality = q => {\r\n+    setPage(1);\r\n+    setSelectedQualities(prev =>\r\n+      prev.includes(q)\r\n+        ? prev.filter(s => s !== q)\r\n+        : [...prev, q]\r\n+    );\r\n+  };\r\n+\r\n+  const clearAllFilters = () => {\r\n+    setSelectedSeverities([]);\r\n+    setSelectedRules([]);\r\n+    setSelectedQualities([]);\r\n+    setAutoFixOnly(false);\r\n+    setRuleSearch(\"\");\r\n+    setPage(1);\r\n+  };\r\n+\r\n+  /* ================= UI ================= */\r\n+\r\n+  return (\r\n+    <div>\r\n+      <Box sx={{ mb: 4 }}>\r\n+        <Breadcrumbs\r\n+          separator={<ChevronRight size={14} color=\"#94a3b8\" />}\r\n+          sx={{ mb: 2 }}\r\n+        >\r\n+          <Link underline=\"hover\" color=\"#64748b\">\r\n+            Projects\r\n+          </Link>\r\n+          <Typography sx={{ fontSize: \"13px\", fontWeight: 600 }}>\r\n+            Issues Explorer\r\n+          </Typography>\r\n+        </Breadcrumbs>\r\n+\r\n+        <Typography variant=\"h4\" sx={{ fontWeight: 800, mb: 1 }}>\r\n+          Issues Explorer\r\n+        </Typography>\r\n+\r\n+        <Typography variant=\"body2\" sx={{ color: \"#64748b\" }}>\r\n+          Manage and remediate code quality issues for{\" \"}\r\n+          <Chip\r\n+            label=\"Spring Project\"\r\n+            size=\"small\"\r\n+            sx={{\r\n+              bgcolor: \"#eff6ff\",\r\n+              color: \"#2563eb\",\r\n+              fontWeight: 700,\r\n+              ml: 1\r\n+            }}\r\n+          />\r\n+        </Typography>\r\n+      </Box>\r\n+\r\n+      <div className=\"layout\">\r\n+        <div className=\"main\">\r\n+          <div className=\"sidebar\">\r\n+\r\n+            <div className=\"filter-title\">\r\n+              Filters\r\n+              <button className=\"clear\" onClick={clearAllFilters}>\r\n+                Clear All Filters\r\n+              </button>\r\n+            </div>\r\n+\r\n+            {/* SOFTWARE QUALITY */}\r\n+            <div className=\"section\">\r\n+              <div\r\n+                className=\"section-header\"\r\n+                onClick={() => setQualityOpen(prev => !prev)}\r\n+              >\r\n+                <span className={`chevron ${qualityOpen ? \"open\" : \"\"}`}>\r\n+                  <ChevronRight size={16} />\r\n+                </span>\r\n+                <span>Software Quality</span>\r\n+              </div>\r\n+\r\n+              <div className={`collapse ${qualityOpen ? \"open\" : \"\"}`}>\r\n+                <div className=\"collapse-inner\">\r\n+                  {QUALITIES.map(q => (\r\n+                    <div\r\n+                      key={q}\r\n+                      className={`row ${selectedQualities.includes(q) ? \"selected\" : \"\"}`}\r\n+                      onClick={() => toggleQuality(q)}\r\n+                    >\r\n+                      {q}\r\n+                      <span>{stableQualityCounts[q] ?? 0}</span>\r\n+                    </div>\r\n+                  ))}\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            {/* RULE */}\r\n+            <div\r\n+              className=\"section-header\"\r\n+              onClick={() => setRuleOpen(prev => !prev)}\r\n+            >\r\n+              <span className={`chevron ${ruleOpen ? \"open\" : \"\"}`}>\r\n+                <ChevronRight size={16} />\r\n+              </span>\r\n+              <span>Rule</span>\r\n+            </div>\r\n+\r\n+            <div className={`collapse ${ruleOpen ? \"open\" : \"\"}`}>\r\n+              <div className=\"collapse-inner\">\r\n+                <input\r\n+                  className=\"rule-search\"\r\n+                  placeholder=\"Search rules...\"\r\n+                  value={ruleSearch}\r\n+                  onChange={e => setRuleSearch(e.target.value)}\r\n+                />\r\n+\r\n+                <div className=\"rule-list\">\r\n+                  {visibleRules.map(rule => (\r\n+                    <div\r\n+                      key={rule}\r\n+                      className={`rule-item ${selectedRules.includes(rule) ? \"selected\" : \"\"}`}\r\n+                      onClick={() => toggleRule(rule)}\r\n+                    >\r\n+                      {rule}\r\n+                      <span>{stableRuleCounts[rule] ?? 0}</span>\r\n+                    </div>\r\n+                  ))}\r\n+                </div>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            {/* AUTO FIX */}\r\n+            <div\r\n+              className=\"section-header\"\r\n+              onClick={() => setAutoFixOpen(prev => !prev)}\r\n+            >\r\n+              <span className={`chevron ${autoFixOpen ? \"open\" : \"\"}`}>\r\n+                <ChevronRight size={16} />\r\n+              </span>\r\n+              <span>Auto Fix</span>\r\n+            </div>\r\n+\r\n+            <div className={`collapse ${autoFixOpen ? \"open\" : \"\"}`}>\r\n+              <div className=\"collapse-inner\">\r\n+                <FormControlLabel\r\n+                  control={\r\n+                    <Checkbox\r\n+                      checked={autoFixOnly}\r\n+                      onChange={e => {\r\n+                        setAutoFixOnly(e.target.checked);\r\n+                        setPage(1);\r\n+                      }}\r\n+                    />\r\n+                  }\r\n+                  label=\"Auto-Fixable Only\"\r\n+                />\r\n+              </div>\r\n+            </div>\r\n+\r\n+            {/* SEVERITY */}\r\n+            <div\r\n+              className=\"section-header\"\r\n+              onClick={() => setSeverityOpen(prev => !prev)}\r\n+            >\r\n+              <span className={`chevron ${severityOpen ? \"open\" : \"\"}`}>\r\n+                <ChevronRight size={16} />\r\n+              </span>\r\n+              <span>Severity</span>\r\n+            </div>\r\n+\r\n+            <div className={`collapse ${severityOpen ? \"open\" : \"\"}`}>\r\n+              <div className=\"collapse-inner\">\r\n+                {SEVERITIES.map(sev => (\r\n+                  <div\r\n+                    key={sev}\r\n+                    className={`row ${selectedSeverities.includes(sev) ? \"selected\" : \"\"}`}\r\n+                    onClick={() => toggleSeverity(sev)}\r\n+                  >\r\n+                    {sev.charAt(0) + sev.slice(1).toLowerCase()}\r\n+                    <span>{stableSeverityCounts[sev] ?? 0}</span>\r\n+                  </div>\r\n+                ))}\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+\r\n+          {/* ISSUES */}\r\n+<div className=\"issues\">\r\n+\r\n+  <div className=\"issues-content\">\r\n+    {Object.keys(groupedIssues).map(file => (\r\n+      <div key={file} className=\"file-group\">\r\n+        <div className=\"file-path\">{file}</div>\r\n+\r\n+        {groupedIssues[file].map(issue => (\r\n+          <div\r\n+            key={issue.key}\r\n+            className=\"issue-card\"\r\n+            onClick={() =>\r\n+              navigate(\"/code-viewer\", {\r\n+                state: { issue, projectKey }\r\n+              })\r\n+            }\r\n+          >\r\n+            <div className=\"issue-main\">\r\n+              <div className=\"issue-title\">\r\n+                {issue.message}\r\n+              </div>\r\n+              <div className=\"badges-row\">\r\n+                <span className=\"type-badge\">\r\n+                  {issue.softwareQuality}\r\n+                </span>\r\n+                <span\r\n+                  className={`severity-badge ${issue.severity.toLowerCase()}`}\r\n+                >\r\n+                  {issue.severity.charAt(0) +\r\n+                    issue.severity.slice(1).toLowerCase()}\r\n+                </span>\r\n+              </div>\r\n+            </div>\r\n+\r\n+            <div className=\"issue-side\">\r\n+              <span className=\"right-badge\">{issue.rule}</span>\r\n+              {issue.autoFixable && (\r\n+                <span className=\"mini-tag\">Auto-Fixable</span>\r\n+              )}\r\n+              <div className=\"line-info\">\r\n+                L{issue.line}\r\n+              </div>\r\n+            </div>\r\n+          </div>\r\n+        ))}\r\n+      </div>\r\n+    ))}\r\n+  </div>\r\n+\r\n+  {loading && (\r\n+    <div className=\"overlay-loader\">\r\n+      <div className=\"spinner\"></div>\r\n+    </div>\r\n+  )}\r\n+\r\n+  <Box sx={{ mt: 3, display: \"flex\", justifyContent: \"center\" }}>\r\n+    <Pagination\r\n+      count={totalPages}\r\n+      page={page}\r\n+      onChange={(e, value) => setPage(value)}\r\n+      color=\"primary\"\r\n+    />\r\n+  </Box>\r\n+\r\n+</div>\r\n+</div>\r\n+      </div>\r\n+    </div>\r\n+  );\r\n+};\r\n+\r\n+export default Issues;\n\\ No newline at end of file\n"
                },
                {
                    "date": 1772096090435,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,8 +17,9 @@\n const QUALITIES = [\"Security\", \"Reliability\", \"Maintainability\"];\r\n \r\n const Issues = () => {\r\n   const navigate = useNavigate();\r\n+import { useLocation } from \"react-router-dom\";\r\n \r\n const location = useLocation();\r\n const projectKey = location.state?.projectKey;\r\n \r\n"
                },
                {
                    "date": 1772096099338,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState, useEffect, useMemo } from \"react\";\r\n-\r\n+import { useLocation } from \"react-router-dom\";\r\n import { useNavigate } from \"react-router-dom\";\r\n import \"./Issues.css\";\r\n import {\r\n   Box,\r\n"
                }
            ],
            "date": 1772096040056,
            "name": "Commit-0",
            "content": "import React, { useState, useEffect, useMemo } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./Issues.css\";\r\nimport {\r\n  Box,\r\n  Pagination,\r\n  Checkbox,\r\n  FormControlLabel,\r\n  Breadcrumbs,\r\n  Link,\r\n  Typography,\r\n  Chip\r\n} from \"@mui/material\";\r\nimport { ChevronRight } from \"lucide-react\";\r\n\r\nconst SEVERITIES = [\"BLOCKER\", \"CRITICAL\", \"MAJOR\", \"MINOR\"];\r\nconst QUALITIES = [\"Security\", \"Reliability\", \"Maintainability\"];\r\n\r\nconst Issues = () => {\r\n  const navigate = useNavigate();\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst location = useLocation();\r\nconst projectKey = location.state?.projectKey;\r\n\r\n  const itemsPerPage = 10;\r\n\r\n  /* ================= STATE ================= */\r\n\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [selectedSeverities, setSelectedSeverities] = useState([]);\r\n  const [selectedRules, setSelectedRules] = useState([]);\r\n  const [selectedQualities, setSelectedQualities] = useState([]);\r\n  const [autoFixOnly, setAutoFixOnly] = useState(false);\r\n\r\n  const [page, setPage] = useState(1);\r\n\r\n  const [ruleSearch, setRuleSearch] = useState(\"\");\r\n  const [allRules, setAllRules] = useState([]);\r\n\r\n  const [stableSeverityCounts, setStableSeverityCounts] = useState({});\r\n  const [stableQualityCounts, setStableQualityCounts] = useState({});\r\n  const [stableRuleCounts, setStableRuleCounts] = useState({});\r\n\r\n  const [ruleOpen, setRuleOpen] = useState(true);\r\n  const [autoFixOpen, setAutoFixOpen] = useState(true);\r\n  const [severityOpen, setSeverityOpen] = useState(true);\r\n  const [qualityOpen, setQualityOpen] = useState(true);\r\n\r\n  /* ================= PARAM BUILDER ================= */\r\n\r\n  const buildParams = ({\r\n    severities = selectedSeverities,\r\n    qualities = selectedQualities,\r\n    rules = selectedRules\r\n  }) => {\r\n    const params = new URLSearchParams();\r\n\r\n    qualities.forEach(q =>\r\n      params.append(\"softwareQualities\", q)\r\n    );\r\n\r\n    severities.forEach(s =>\r\n      params.append(\"severities\", s)\r\n    );\r\n\r\n    rules.forEach(r =>\r\n      params.append(\"rules\", r)\r\n    );\r\n\r\n    if (autoFixOnly) {\r\n      params.append(\"autoFixOnly\", true);\r\n    }\r\n\r\n    params.append(\"page\", page);\r\n    params.append(\"pageSize\", itemsPerPage);\r\n\r\n    return params.toString();\r\n  };\r\n\r\n  /* ================= FETCH LOGIC ================= */\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n\r\n      try {\r\n        const baseUrl =\r\n          `http://localhost:8080/api/scan/${projectKey}/issues`;\r\n\r\n        const [\r\n          mainRes,\r\n          severityRes,\r\n          qualityRes,\r\n          ruleRes\r\n        ] = await Promise.all([\r\n          fetch(`${baseUrl}?${buildParams({})}`),\r\n\r\n          fetch(\r\n            `${baseUrl}?${buildParams({\r\n              severities: []\r\n            })}`\r\n          ),\r\n\r\n          fetch(\r\n            `${baseUrl}?${buildParams({\r\n              qualities: []\r\n            })}`\r\n          ),\r\n\r\n          fetch(\r\n            `${baseUrl}?${buildParams({\r\n              rules: []\r\n            })}`\r\n          )\r\n        ]);\r\n\r\n        if (\r\n          !mainRes.ok ||\r\n          !severityRes.ok ||\r\n          !qualityRes.ok ||\r\n          !ruleRes.ok\r\n        ) {\r\n          throw new Error(\"One or more API calls failed\");\r\n        }\r\n\r\n        const mainData = await mainRes.json();\r\n        const sevData = await severityRes.json();\r\n        const qualData = await qualityRes.json();\r\n        const ruleData = await ruleRes.json();\r\n\r\n        setData(mainData);\r\n\r\n        setStableSeverityCounts(\r\n          sevData?.filterCounts?.severityCounts || {}\r\n        );\r\n\r\n        setStableQualityCounts(\r\n          qualData?.filterCounts?.qualityCounts || {}\r\n        );\r\n\r\n        const safeRuleCounts =\r\n          ruleData?.filterCounts?.ruleCounts || {};\r\n\r\n        setStableRuleCounts(safeRuleCounts);\r\n        setAllRules(Object.keys(safeRuleCounts));\r\n\r\n      } catch (err) {\r\n        console.error(\"Error fetching issues:\", err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [\r\n    selectedQualities,\r\n    selectedSeverities,\r\n    selectedRules,\r\n    autoFixOnly,\r\n    page\r\n  ]);\r\n\r\n  /* ================= DERIVED ================= */\r\n\r\n  const visibleRules = allRules.filter(rule =>\r\n    rule.toLowerCase().includes(ruleSearch.toLowerCase())\r\n  );\r\n\r\n  const groupedIssues = useMemo(() => {\r\n    if (!data?.content) return {};\r\n    const grouped = {};\r\n    data.content.forEach(group => {\r\n      grouped[group.file] = group.issues;\r\n    });\r\n    return grouped;\r\n  }, [data]);\r\n\r\n  const totalPages = data?.totalPages || 0;\r\n\r\n  /* ================= HANDLERS ================= */\r\n\r\n  const toggleSeverity = sev => {\r\n    setPage(1);\r\n    setSelectedSeverities(prev =>\r\n      prev.includes(sev)\r\n        ? prev.filter(s => s !== sev)\r\n        : [...prev, sev]\r\n    );\r\n  };\r\n\r\n  const toggleRule = rule => {\r\n    setPage(1);\r\n    setSelectedRules(prev =>\r\n      prev.includes(rule)\r\n        ? prev.filter(r => r !== rule)\r\n        : [...prev, rule]\r\n    );\r\n  };\r\n\r\n  const toggleQuality = q => {\r\n    setPage(1);\r\n    setSelectedQualities(prev =>\r\n      prev.includes(q)\r\n        ? prev.filter(s => s !== q)\r\n        : [...prev, q]\r\n    );\r\n  };\r\n\r\n  const clearAllFilters = () => {\r\n    setSelectedSeverities([]);\r\n    setSelectedRules([]);\r\n    setSelectedQualities([]);\r\n    setAutoFixOnly(false);\r\n    setRuleSearch(\"\");\r\n    setPage(1);\r\n  };\r\n\r\n  /* ================= UI ================= */\r\n\r\n  return (\r\n    <div>\r\n      <Box sx={{ mb: 4 }}>\r\n        <Breadcrumbs\r\n          separator={<ChevronRight size={14} color=\"#94a3b8\" />}\r\n          sx={{ mb: 2 }}\r\n        >\r\n          <Link underline=\"hover\" color=\"#64748b\">\r\n            Projects\r\n          </Link>\r\n          <Typography sx={{ fontSize: \"13px\", fontWeight: 600 }}>\r\n            Issues Explorer\r\n          </Typography>\r\n        </Breadcrumbs>\r\n\r\n        <Typography variant=\"h4\" sx={{ fontWeight: 800, mb: 1 }}>\r\n          Issues Explorer\r\n        </Typography>\r\n\r\n        <Typography variant=\"body2\" sx={{ color: \"#64748b\" }}>\r\n          Manage and remediate code quality issues for{\" \"}\r\n          <Chip\r\n            label=\"Spring Project\"\r\n            size=\"small\"\r\n            sx={{\r\n              bgcolor: \"#eff6ff\",\r\n              color: \"#2563eb\",\r\n              fontWeight: 700,\r\n              ml: 1\r\n            }}\r\n          />\r\n        </Typography>\r\n      </Box>\r\n\r\n      <div className=\"layout\">\r\n        <div className=\"main\">\r\n          <div className=\"sidebar\">\r\n\r\n            <div className=\"filter-title\">\r\n              Filters\r\n              <button className=\"clear\" onClick={clearAllFilters}>\r\n                Clear All Filters\r\n              </button>\r\n            </div>\r\n\r\n            {/* SOFTWARE QUALITY */}\r\n            <div className=\"section\">\r\n              <div\r\n                className=\"section-header\"\r\n                onClick={() => setQualityOpen(prev => !prev)}\r\n              >\r\n                <span className={`chevron ${qualityOpen ? \"open\" : \"\"}`}>\r\n                  <ChevronRight size={16} />\r\n                </span>\r\n                <span>Software Quality</span>\r\n              </div>\r\n\r\n              <div className={`collapse ${qualityOpen ? \"open\" : \"\"}`}>\r\n                <div className=\"collapse-inner\">\r\n                  {QUALITIES.map(q => (\r\n                    <div\r\n                      key={q}\r\n                      className={`row ${selectedQualities.includes(q) ? \"selected\" : \"\"}`}\r\n                      onClick={() => toggleQuality(q)}\r\n                    >\r\n                      {q}\r\n                      <span>{stableQualityCounts[q] ?? 0}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* RULE */}\r\n            <div\r\n              className=\"section-header\"\r\n              onClick={() => setRuleOpen(prev => !prev)}\r\n            >\r\n              <span className={`chevron ${ruleOpen ? \"open\" : \"\"}`}>\r\n                <ChevronRight size={16} />\r\n              </span>\r\n              <span>Rule</span>\r\n            </div>\r\n\r\n            <div className={`collapse ${ruleOpen ? \"open\" : \"\"}`}>\r\n              <div className=\"collapse-inner\">\r\n                <input\r\n                  className=\"rule-search\"\r\n                  placeholder=\"Search rules...\"\r\n                  value={ruleSearch}\r\n                  onChange={e => setRuleSearch(e.target.value)}\r\n                />\r\n\r\n                <div className=\"rule-list\">\r\n                  {visibleRules.map(rule => (\r\n                    <div\r\n                      key={rule}\r\n                      className={`rule-item ${selectedRules.includes(rule) ? \"selected\" : \"\"}`}\r\n                      onClick={() => toggleRule(rule)}\r\n                    >\r\n                      {rule}\r\n                      <span>{stableRuleCounts[rule] ?? 0}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* AUTO FIX */}\r\n            <div\r\n              className=\"section-header\"\r\n              onClick={() => setAutoFixOpen(prev => !prev)}\r\n            >\r\n              <span className={`chevron ${autoFixOpen ? \"open\" : \"\"}`}>\r\n                <ChevronRight size={16} />\r\n              </span>\r\n              <span>Auto Fix</span>\r\n            </div>\r\n\r\n            <div className={`collapse ${autoFixOpen ? \"open\" : \"\"}`}>\r\n              <div className=\"collapse-inner\">\r\n                <FormControlLabel\r\n                  control={\r\n                    <Checkbox\r\n                      checked={autoFixOnly}\r\n                      onChange={e => {\r\n                        setAutoFixOnly(e.target.checked);\r\n                        setPage(1);\r\n                      }}\r\n                    />\r\n                  }\r\n                  label=\"Auto-Fixable Only\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            {/* SEVERITY */}\r\n            <div\r\n              className=\"section-header\"\r\n              onClick={() => setSeverityOpen(prev => !prev)}\r\n            >\r\n              <span className={`chevron ${severityOpen ? \"open\" : \"\"}`}>\r\n                <ChevronRight size={16} />\r\n              </span>\r\n              <span>Severity</span>\r\n            </div>\r\n\r\n            <div className={`collapse ${severityOpen ? \"open\" : \"\"}`}>\r\n              <div className=\"collapse-inner\">\r\n                {SEVERITIES.map(sev => (\r\n                  <div\r\n                    key={sev}\r\n                    className={`row ${selectedSeverities.includes(sev) ? \"selected\" : \"\"}`}\r\n                    onClick={() => toggleSeverity(sev)}\r\n                  >\r\n                    {sev.charAt(0) + sev.slice(1).toLowerCase()}\r\n                    <span>{stableSeverityCounts[sev] ?? 0}</span>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* ISSUES */}\r\n<div className=\"issues\">\r\n\r\n  <div className=\"issues-content\">\r\n    {Object.keys(groupedIssues).map(file => (\r\n      <div key={file} className=\"file-group\">\r\n        <div className=\"file-path\">{file}</div>\r\n\r\n        {groupedIssues[file].map(issue => (\r\n          <div\r\n            key={issue.key}\r\n            className=\"issue-card\"\r\n            onClick={() =>\r\n              navigate(\"/code-viewer\", {\r\n                state: { issue, projectKey }\r\n              })\r\n            }\r\n          >\r\n            <div className=\"issue-main\">\r\n              <div className=\"issue-title\">\r\n                {issue.message}\r\n              </div>\r\n              <div className=\"badges-row\">\r\n                <span className=\"type-badge\">\r\n                  {issue.softwareQuality}\r\n                </span>\r\n                <span\r\n                  className={`severity-badge ${issue.severity.toLowerCase()}`}\r\n                >\r\n                  {issue.severity.charAt(0) +\r\n                    issue.severity.slice(1).toLowerCase()}\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"issue-side\">\r\n              <span className=\"right-badge\">{issue.rule}</span>\r\n              {issue.autoFixable && (\r\n                <span className=\"mini-tag\">Auto-Fixable</span>\r\n              )}\r\n              <div className=\"line-info\">\r\n                L{issue.line}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    ))}\r\n  </div>\r\n\r\n  {loading && (\r\n    <div className=\"overlay-loader\">\r\n      <div className=\"spinner\"></div>\r\n    </div>\r\n  )}\r\n\r\n  <Box sx={{ mt: 3, display: \"flex\", justifyContent: \"center\" }}>\r\n    <Pagination\r\n      count={totalPages}\r\n      page={page}\r\n      onChange={(e, value) => setPage(value)}\r\n      color=\"primary\"\r\n    />\r\n  </Box>\r\n\r\n</div>\r\n</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Issues;"
        }
    ]
}